# 5.2 web平台常见问题

**1.A**:发送短信，提示“调用短信发送接口失败：无法连接到http://x.x.x.x:9080/openmasservice.TCP 错误代码10061：由于目标机器积极拒绝，无法连接。...”   
<img src="../images/SendSmsError16001.png" alt="图片被外星人掠走了┌(。Д。)┐" title="TCP 错误代码10061"> 
**Q**:OpenMas服务没有启动或假死了。查看OpenMas基础组件服务是否正常启动，重新启动基础组件服务解决。  

**2.A**:发送成功，未获取状态报告  
**Q**:    
1.短时间内网关还未将状态报告回复到OpenMAS，稍后刷新页面再查看，提示即可变为“发送成功”，一般短信48小时内网关返回回执，彩信为72小时之内网关返回回执。  
2.OpenMas基础组件服务重新启动，部分状态报告丢失。  
3.长时间大量群发短信均无状态报告，OpenMas基础组件服务没有将短信成功提交到网关，需检查OpenMas相关服务，确保正常启动（必要时尝试重新启动），然后重新提交发送。 
4.默认Application，用于接收上行状态报告的URL参数配置可能被意外修改了，默认值为：http://127.0.0.1:7000/NotifyReciever  
5.手机终端处于停机、关机、无信号、不在服务区、正在通话等状态下，无法立即返回状态报告，长时间不返回回执，导致状态报告丢失。  
6.一个接入号配置在多台设备上，导致行业网关随机分发状态报告给各个设备。  

**A**:OpenMAS短信发送长期处于等待回执状态，如何确认短信是否发送成功？  
**Q**:查看dbo.COM__SmsSentHistory中GatewayStatus字段值，GatewayStatus值为“DELIVRD”的条目，说明短信已成功发送至手机。  

**A**:收件箱页面报错，提示“应用服务器中的程序错误，无法将位于索引24处的Unicode字符\uD83D转换为指定的代码页”  
<img src="../images/SmsInBoxError_Unicode.jpg" alt="图片被外星人掠走了┌(。Д。)┐" title="无法将位于索引24处的Unicode字符\uD83D转换为指定的代码页"> 
**Q**:手机回复了非法字符，比如特殊表情，特殊字符集。①手工在数据库清理异常数据，一般显示为乱码的数据就是了。②提交产品研发部增加界面友好展示。  

**A**:OpenMAS短信超过日限部分，第二天是否自动重发？  
**Q**:不会自动重发，必须手动重发。  

**A**:OpenMAS群发短信时某手机关机，开机后能否收到短信
**Q**:手机关机期间的短信，在开机后能否收到，要根据短信中心对于该手机号码的相关配置来确定；  
OpenMAS将短信送达网关后，网关直接将短信送至短信中心，有短信中心进行存储或转发。网关在OpenMAS关机期间发往OpenMAS的状态报告只发送三次，间隔十几秒，然后不论OpenMAS是否收到都将丢弃状态报告；当OpenMAS开机后就收不到状态报告了。

**A**:访问OpenMAS门户，提示“WebServer Application Unavailable”  
**Q**:IIS服务出现错误，建议通过重启、修复或重装IIS服务，排除故障。  
